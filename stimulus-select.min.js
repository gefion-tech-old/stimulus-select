"use strict";function _defineProperty(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class SelectController extends Stimulus.Controller{selectedValueChanged(){let e=this.itemTargets.filter(e=>this.selectedValue.includes(e.dataset.selectItem)),t=this.itemTargets.filter(e=>!this.selectedValue.includes(e.dataset.selectItem));this.itemClassManagement(e,!0),this.itemClassManagement(t,!1),this.hasInputTarget&&(this.inputTarget.value=JSON.stringify(e.map(e=>e.dataset.selectItem))),this.element.dispatchEvent(new CustomEvent("stimulus-select-end",{detail:{selected:this.selectedValue,actualItems:e,notActualItems:t}}))}select({currentTarget:e}){let t=e.dataset.selectItem;t&&(this.multipleValue?this.selectedValue.includes(t)?this.selectedValue=this.selectedValue.filter(e=>e!==t):this.selectedValue=[...this.selectedValue,t]:this.selectedValue.includes(t)?this.selectedValue=[]:this.selectedValue=[e.dataset.selectItem])}clear(){this.selectedValue=[]}itemClassManagement(e,t){let s=this.hasOnClass?this.onClass.split(" "):[],l=this.hasOffClass?this.offClass.split(" "):[];e.forEach(e=>{t?(l.forEach(t=>{e.classList.remove(t)}),s.length>0&&e.classList.add(...s)):(s.forEach(t=>{e.classList.remove(t)}),l.length>0&&e.classList.add(...l))})}}_defineProperty(SelectController,"classes",["on","off"]),_defineProperty(SelectController,"targets",["input","item"]),_defineProperty(SelectController,"values",{selected:Array,multiple:Boolean}),function(){let e;(e=window.stimulusApplication?window.stimulusApplication:Stimulus.Application.start()).register("select",SelectController),window.stimulusApplication=e}();
